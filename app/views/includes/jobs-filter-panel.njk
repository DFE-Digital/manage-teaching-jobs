{% set filterOptionsHtml %}

  {{ govukCheckboxes({
    idPrefix: "filters[role]",
    name: "filters[role]",
    classes: "govuk-checkboxes--small",
    fieldset: {
      legend: {
        text: "Status",
        classes: "govuk-fieldset__legend--s"
      }
    },
    items: [{
      value: 'Active',
      text: 'Active'
    }, {
      value: 'Scheduled',
      text: 'Scheduled'
    }, {
      value: 'Draft',
      text: 'Draft'
    }, {
      value: 'Closed',
      text: 'Closed'
    }]
  }) }}

   {{ govukCheckboxes({
    idPrefix: "filters[applications]",
    name: "filters[applications]",
    classes: "govuk-checkboxes--small",
    fieldset: {
      legend: {
        text: "Applications",
        classes: "govuk-fieldset__legend--s"
      }
    },
    items: [{
      value: 'Has applications',
      text: 'Has applications'
    }, {
      value: 'Does not have applications',
      text: 'Does not have applications'
    }]
  }) }}

  <h3 class="govuk-heading-s">Roles</h3>

  <div class="app-c-option-select js-collapsible  js-closed " data-testid="key-stage-1" data-module="option-select" data-closed-on-load="true">

        <div class="app-c-option-select__heading js-container-heading">
            <button class="js-container-button app-c-option-select__title app-c-option-select__button" type="button" aria-expanded="false" id="option-teaching-and-leadership" aria-controls="list-of-key-stage-1">
              Teaching <span class="govuk-visually-hidden">jobs</span>
            </button>
            <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="app-c-option-select__icon app-c-option-select__icon--up" aria-hidden="true" focusable="false"><path d="m798.16 609.84l-256-256c-16.683-16.683-43.691-16.683-60.331 0l-256 256c-16.683 16.683-16.683 43.691 0 60.331s43.691 16.683 60.331 0l225.84-225.84 225.84 225.84c16.683 16.683 43.691 16.683 60.331 0s16.683-43.691 0-60.331z"></path></svg>
            <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="app-c-option-select__icon app-c-option-select__icon--down" aria-hidden="true" focusable="false"><path d="m225.84 414.16l256 256c16.683 16.683 43.691 16.683 60.331 0l256-256c16.683-16.683 16.683-43.691 0-60.331s-43.691-16.683-60.331 0l-225.84 225.84-225.84-225.84c-16.683-16.683-43.691-16.683-60.331 0s-16.683 43.691 0 60.331z"></path></svg>
        </div>

        <div id="list-of-key-stage-1" role="group" aria-labelledby="option-teaching-and-leadership" class="app-c-option-select__container js-options-container" tabindex="-1">
            <div class="app-c-option-select__container-inner">
                <div class="gem-c-checkboxes govuk-form-group govuk-checkboxes--small" data-module="gem-checkboxes">
                    <fieldset class="govuk-fieldset govuk-checkboxes--small govuk-!-margin-left-1">
                        <legend class="govuk-fieldset__legend govuk-fieldset__legend--s app-c-option-select__legend">Teaching</legend>

                        <ul class="govuk-checkboxes gem-c-checkboxes__list" data-module="govuk-checkboxes">
                                <li class="govuk-checkboxes__item" data-testid="job-name">
                                    <input type="checkbox" name="filters-role" class="govuk-checkboxes__input" id="job-teacher" value="Teacher">
                                    <label class="govuk-label govuk-checkboxes__label" for="job-teacher">
                                        Teacher
                                    </label>
                                </li>
                                <li class="govuk-checkboxes__item" data-testid="job-name">
                                    <input type="checkbox" name="filters-role" class="govuk-checkboxes__input" id="job-head-of-year" value="Head of year or phase">
                                    <label class="govuk-label govuk-checkboxes__label" for="job-head-of-year">
                                        Head of year or phase
                                    </label>
                                </li>
                                <li class="govuk-checkboxes__item" data-testid="job-name">
                                    <input type="checkbox" name="filters-role" class="govuk-checkboxes__input" id="job-head-of-department-or-curriculum" value="Head of department or curriculum">
                                    <label class="govuk-label govuk-checkboxes__label" for="job-head-of-department-or-curriculum">
                                        Head of department or curriculum
                                    </label>
                                </li>
                                <li class="govuk-checkboxes__item" data-testid="job-name">
                                    <input type="checkbox" name="filters-role" class="govuk-checkboxes__input" id="job-assistant-headteacher" value="Assistant headteacher">
                                    <label class="govuk-label govuk-checkboxes__label" for="job-assistant-headteacher">
                                        Assistant headteacher
                                    </label>
                                </li>
                                <li class="govuk-checkboxes__item" data-testid="job-name">
                                    <input type="checkbox" name="filters-role" class="govuk-checkboxes__input" id="job-deputy-headteacher" value="Deputy headteacher">
                                    <label class="govuk-label govuk-checkboxes__label" for="job-deputy-headteacher">
                                        Deputy headteacher
                                    </label>
                                </li>
                                <li class="govuk-checkboxes__item" data-testid="job-name">
                                    <input type="checkbox" name="filters-role" class="govuk-checkboxes__input" id="job-headteacher" value="Headteacher">
                                    <label class="govuk-label govuk-checkboxes__label" for="job-headteacher">
                                        Headteacher
                                    </label>
                                </li>
                                <li class="govuk-checkboxes__item" data-testid="job-name">
                                    <input type="checkbox" name="filters-role" class="govuk-checkboxes__input" id="job-sendco" value="SENDCo (special educational needs and disabilities coordinator)">
                                    <label class="govuk-label govuk-checkboxes__label" for="job-sendco">
                                       SENDCo (special educational needs and disabilities coordinator)
                                    </label>
                                </li>
                        </ul>
                    </fieldset>
                </div>
            </div>
        </div>
    </div>

    <div class="app-c-option-select js-collapsible  js-closed " data-testid="key-stage-1" data-module="option-select" data-closed-on-load="true">

        <div class="app-c-option-select__heading js-container-heading">
            <button class="js-container-button app-c-option-select__title app-c-option-select__button" type="button" aria-expanded="false" id="option-teaching-support" aria-controls="list-of-key-stage-1">Teaching support</button>
            <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="app-c-option-select__icon app-c-option-select__icon--up" aria-hidden="true" focusable="false"><path d="m798.16 609.84l-256-256c-16.683-16.683-43.691-16.683-60.331 0l-256 256c-16.683 16.683-16.683 43.691 0 60.331s43.691 16.683 60.331 0l225.84-225.84 225.84 225.84c16.683 16.683 43.691 16.683 60.331 0s16.683-43.691 0-60.331z"></path></svg>
            <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="app-c-option-select__icon app-c-option-select__icon--down" aria-hidden="true" focusable="false"><path d="m225.84 414.16l256 256c16.683 16.683 43.691 16.683 60.331 0l256-256c16.683-16.683 16.683-43.691 0-60.331s-43.691-16.683-60.331 0l-225.84 225.84-225.84-225.84c-16.683-16.683-43.691-16.683-60.331 0s-16.683 43.691 0 60.331z"></path></svg>
        </div>

        <div id="list-of-key-stage-1" role="group" aria-labelledby="option-teaching-support" class="app-c-option-select__container js-options-container" tabindex="-1">
            <div class="app-c-option-select__container-inner">
                <div class="gem-c-checkboxes govuk-form-group govuk-checkboxes--small" data-module="gem-checkboxes">
                    <fieldset class="govuk-fieldset govuk-checkboxes--small govuk-!-margin-left-1">
                        <legend class="govuk-fieldset__legend govuk-fieldset__legend--s app-c-option-select__legend">Teaching support</legend>

                        <ul class="govuk-checkboxes gem-c-checkboxes__list" data-module="govuk-checkboxes">
                                <li class="govuk-checkboxes__item" data-testid="job-name">
                                    <input type="checkbox" name="filters-role" class="govuk-checkboxes__input" id="job-teaching-assistant" value="Teaching assistant">
                                    <label class="govuk-label govuk-checkboxes__label" for="job-teaching-assistant">
                                        Teaching assistant
                                    </label>
                                </li>
                                <li class="govuk-checkboxes__item" data-testid="job-name">
                                    <input type="checkbox" name="filters-role" class="govuk-checkboxes__input" id="job-hlta" value="HLTA (Higher level teaching assistant)">
                                    <label class="govuk-label govuk-checkboxes__label" for="job-hlta">
                                        HLTA (Higher level teaching assistant)
                                    </label>
                                </li>
                                <li class="govuk-checkboxes__item" data-testid="job-name">
                                    <input type="checkbox" name="filters-role" class="govuk-checkboxes__input" id="job-learning-support" value="Learning support or cover supervisor">
                                    <label class="govuk-label govuk-checkboxes__label" for="job-learning-support">
                                        Learning support or cover supervisor
                                    </label>
                                </li>
                                <li class="govuk-checkboxes__item" data-testid="job-name">
                                    <input type="checkbox" name="filters-role" class="govuk-checkboxes__input" id="job-other-teaching-support" value="Other teaching support">
                                    <label class="govuk-label govuk-checkboxes__label" for="job-other-teaching-support">
                                        Other teaching support
                                    </label>
                                </li>
                        </ul>
                    </fieldset>
                </div>
            </div>
        </div>
    </div>

    <div id="non-teaching" class="app-c-option-select js-collapsible  js-closed " data-testid="key-stage-1" data-module="option-select" data-closed-on-load="true">

        <div class="app-c-option-select__heading js-container-heading">
            <button class="js-container-button app-c-option-select__title app-c-option-select__button" type="button" aria-expanded="false" id="option-teaching-support" aria-controls="list-of-key-stage-1">Non-teaching support</button>
            <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="app-c-option-select__icon app-c-option-select__icon--up" aria-hidden="true" focusable="false"><path d="m798.16 609.84l-256-256c-16.683-16.683-43.691-16.683-60.331 0l-256 256c-16.683 16.683-16.683 43.691 0 60.331s43.691 16.683 60.331 0l225.84-225.84 225.84 225.84c16.683 16.683 43.691 16.683 60.331 0s16.683-43.691 0-60.331z"></path></svg>
            <svg version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="app-c-option-select__icon app-c-option-select__icon--down" aria-hidden="true" focusable="false"><path d="m225.84 414.16l256 256c16.683 16.683 43.691 16.683 60.331 0l256-256c16.683-16.683 16.683-43.691 0-60.331s-43.691-16.683-60.331 0l-225.84 225.84-225.84-225.84c-16.683-16.683-43.691-16.683-60.331 0s-16.683 43.691 0 60.331z"></path></svg>
        </div>

        <div id="list-of-key-stage-1" role="group" aria-labelledby="option-teaching-support" class="app-c-option-select__container js-options-container" tabindex="-1">
            <div class="app-c-option-select__container-inner">
                <div class="gem-c-checkboxes govuk-form-group govuk-checkboxes--small" data-module="gem-checkboxes">
                    <fieldset class="govuk-fieldset govuk-checkboxes--small govuk-!-margin-left-1">
                        <legend class="govuk-fieldset__legend govuk-fieldset__legend--s app-c-option-select__legend">Non-teaching support</legend>

                        <ul class="govuk-checkboxes gem-c-checkboxes__list" data-module="govuk-checkboxes">
                                <li class="govuk-checkboxes__item" data-testid="job-name">
                                    <input type="checkbox" name="filters-role" class="govuk-checkboxes__input" id="job-admin" value="Administration, HR, data and finance">
                                    <label class="govuk-label govuk-checkboxes__label" for="job-admin">
                                        Administration, HR, data and finance
                                    </label>
                                </li>
                                <li class="govuk-checkboxes__item" data-testid="job-name">
                                    <input type="checkbox" name="filters-role" class="govuk-checkboxes__input" id="job-catering" value="Catering, cleaning and site management">
                                    <label class="govuk-label govuk-checkboxes__label" for="job-catering">
                                        Catering, cleaning and site management
                                    </label>
                                </li>
                                <li class="govuk-checkboxes__item" data-testid="job-name">
                                    <input type="checkbox" name="filters-role" class="govuk-checkboxes__input" id="job-it" value="IT support">
                                    <label class="govuk-label govuk-checkboxes__label" for="job-it">
                                        IT support
                                    </label>
                                </li>
                                <li class="govuk-checkboxes__item" data-testid="job-name">
                                    <input type="checkbox" name="filters-role" class="govuk-checkboxes__input" id="job-pastoral" value="Pastoral, health and welfare">
                                    <label class="govuk-label govuk-checkboxes__label" for="job-pastoral">
                                        Pastoral, health and welfare
                                    </label>
                                </li>
                                <li class="govuk-checkboxes__item" data-testid="job-name">
                                    <input type="checkbox" name="filters-role" class="govuk-checkboxes__input" id="job-other" value="Other leadership roles">
                                    <label class="govuk-label govuk-checkboxes__label" for="job-other">
                                       Other leadership roles
                                    </label>
                                </li>
                                <li class="govuk-checkboxes__item" data-testid="job-name">
                                    <input type="checkbox" name="filters-role" class="govuk-checkboxes__input" id="job-other-support" value="Other support roles">
                                    <label class="govuk-label govuk-checkboxes__label" for="job-other-support">
                                        Other support roles
                                    </label>
                                </li>
                        </ul>
                    </fieldset>
                </div>
            </div>
        </div>
    </div>

{% endset %}

<div class="app-filter">
  <div class="app-filter__header">
    <div class="app-filter__header-title">
      <h2 class="govuk-heading-m">Filter</h2>
    </div>
    <div class="app-filter__header-action">

    </div>
  </div>
  <div class="app-filter__content">
    {% if selectedFilters %}
      <div class="app-filter__selected">
        <div class="app-filter__selected-heading">
          <div class="app-filter__heading-title">
            <h2 class="govuk-heading-m govuk-!-margin-bottom-1">Selected filters</h2>
            <p class="govuk-body"><a class="govuk-link govuk-link--no-visited-state" href="/applications/remove-all-filters">Clear filters</a></p>
          </div>
        </div>
        {% for category in selectedFilters.categories %}
          <h3 class="govuk-heading-s govuk-!-margin-bottom-0">{{ category.heading.text }}</h3>
          <ul class="app-filter-tags">
            {% for item in category.items %}
              <li><a class="app-filter__tag" href="{{item.href}}"><span class="govuk-visually-hidden">Remove this filter</span> {{item.text}}</a></li>
            {% endfor %}
          </ul>
        {% endfor %}
      </div>
    {% endif %}
    <div class="app-filter__options">
      <form method="get" action="/applications" novalidate>
        <button class="govuk-button" data-module="govuk-button">
          Apply filters
        </button>
        {{filterOptionsHtml | safe}}
      </form>
    </div>
  </div>
</div>
